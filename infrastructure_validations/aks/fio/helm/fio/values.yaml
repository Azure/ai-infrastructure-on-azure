---
# Default values for fio
# This is a YAML-formatted file.

# Storage configuration
storage:
  # Storage type: azure-container-storage, localpv, existing-pvc
  # - azure-container-storage: Creates StorageClass and PVC for
  #   Azure Container Storage
  # - localpv: Uses local PersistentVolume
  # - existing-pvc: Use an existing PVC (specify existingPvcName)
  #   Use this for testing with blobfuse, Lustre, or other shared storage
  type: "azure-container-storage"

  # For existing-pvc type, specify the PVC name
  existingPvcName: ""

  # Storage size for the test volume (not used for existing-pvc)
  size: "10Gi"

  # Azure Container Storage configuration
  azureContainerStorage:
    # Storage class name for Azure Container Storage
    storageClassName: "acstor-ephemeraldisk-nvme"

  # LocalPV configuration
  localpv:
    # Local path on the node
    path: "/mnt/disks/ssd0"
    # Node selector for local PV
    nodeAffinity:
      required:
        nodeSelectorTerms:
          - matchExpressions:
              - key: kubernetes.io/hostname
                operator: In
                values:
                  - node1 # Update with your node name

# Pod configuration
pod:
  # Container image
  image: "alpine:3.19"
  # Container name
  containerName: "fio"
  # Mount path for storage
  mountPath: "/mnt/test"
  # Restart policy
  restartPolicy: "Never"

# FIO test configuration
fio:
  # Test name
  testName: "fio-test"
  # Test file name
  filename: "/mnt/test/datafile"
  # File size for the test
  size: "1G"
  # Block size
  blockSize: "4k"
  # I/O pattern (read, write, randread, randwrite, readwrite, randrw)
  readWrite: "randwrite"
  # I/O engine
  ioEngine: "libaio"
  # Direct I/O
  direct: 1
  # Number of jobs
  numJobs: 1
  # Runtime in seconds (0 for size-based test)
  runtime: 60
  # Time-based test
  timeBased: true
  # Additional FIO options
  additionalOptions: ""

# Resource limits
resources:
  limits:
    cpu: "2"
    memory: "4Gi"
  requests:
    cpu: "1"
    memory: "2Gi"

# Labels and annotations
labels: {}
annotations: {}

# Sleep duration after test for debugging (seconds)
sleepDuration: 0
